---
---

\matrix (K) [collection] {
    \node (k1) {$k_1$}; \\
    \node (k2) {$k_2$}; \\
    \node [vertical elements between]; \\
    \node (kn) {$k_n$}; \\
\\ };

\foreach \i/\j in {1,2,n}{
    \draw [map ->] (k\i.east) -- +(.5, 0)
        node [element, right] {$v_\i$};
    \draw [subflow ->] (k\i.west) -- +(-.5, 0)
        node [subelement, left] {$k \neq k_\i $};
}

\draw [<- subflow, iterate up] (k1.west) arc;
\draw [subflow ->, iterate down] (k1.west) to (k2.west);
\draw [subflow ->, dashed, iterate down] (k2.west) arc;
\draw [<- subflow, dashed, iterate up] (kn.west) arc;

\draw [flow ->] (kn.west) arc [start angle=135, end angle=180, x radius=1, y radius=3]
    node [element, below] {\texttt{v}};
