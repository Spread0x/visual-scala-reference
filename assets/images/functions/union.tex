---
---

\matrix (A) [collection] {
    \node (a1) {$a_1$}; &
    \node (a2) {$a_2$}; &
    \node [elements between]; &
    \node (an) {$a_n$}; \\
};

\matrix (A') [collection, right=1 of A] {
    \node (a'1) {$a^\prime_1$}; &
    \node (a'2) {$a^\prime_2$}; &
    \node [elements between]; &
    \node (a'n) {$a^\prime_m$}; \\
};

\matrix (B) [collection, below=2 of A.south west, anchor=north west] {
    \node (b1) {$a_1$}; &
    \node (b2) {$a_2$}; &
    \node [elements between]; &
    \node (bn) {$a_n$}; &
    \node (b'1) {$a^\prime_1$}; &
    \node (b'2) {$a^\prime_2$}; &
    \node [elements between]; &
    \node (b'n) {$a^\prime_m$}; \\
};

\braceflow[-.2]{(A.south west)}{(A.south east)}
\coordinate (x) at (lastbrace);
\braceflow[.2]{(b1.north west)}{(bn.north east)}
\draw [flow ->] (x) -- (lastbrace);

\foreach \i in {1,2,n}{
    \draw [flow ->, out=270, in=90] (a'\i) to node [badge] {$\cup$} (b'\i);
}
