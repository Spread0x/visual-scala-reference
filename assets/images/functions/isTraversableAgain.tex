---
---

\matrix (A) [collection] {
    \node (a1) {$a_1$}; &
    \node (a2) {$a_2$}; &
    \node [elements between]; &
    \node (an) {$a_n$}; \\
};

\draw [<- subflow, <- iterate] (a1.north) arc;
\draw [subflow ->, iterate ->] (a1.north) to (a2.north);
\draw [subflow ->, iterate ->, dashed] (a2.north) arc;
\draw [<- subflow, <- iterate, dashed] ($ (an.north) + (-.125, 0) $) arc;
\draw [subflow ->, bend right=45, shorten >=.5\masterunit]
    ($ (an.north) + (.125, 0) $) coordinate (x) to (a1.north);

\node (b) [element, below right=1 and 1 of A] {\true};
\draw [flow ->] (x) .. controls +(1, 1) and +(0, 2) .. (b);
