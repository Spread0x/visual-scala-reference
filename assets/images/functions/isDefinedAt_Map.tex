\matrix (A) [collection] {
    \node (k1) {$k_1$}; \\
    \node (k2) {$k_2$}; \\
    \node [vertical elements between]; \\
    \node (ki) {$k_i$}; \\
    \node [vertical elements after]; \\
};

\foreach \i/\e in {1/\neq,2/\neq,i/=}{
    \draw [map ->] (k\i) -- +(1, 0)
        node [element, right] {$v_\i$};
    \draw [subflow ->] (k\i.west) -- +(-.5, 0)
        node [subelement, left] {$k_\i \e \texttt{k}$};
}

\draw [<- subflow] (k1.west) arc [iterate up];
\draw [subflow ->, iterate down] (k1.west) to (k2.west);
\draw [subflow ->, iterate down, dashed] (k2.west) arc;
\draw [<- subflow, iterate up, dashed] (ki.west) arc;

\draw [flow ->]
    (ki.east) + (0, -.25)
    .. controls +(.55, 0) and +(0, .55) ..
    +(1, -1.25)
    node (b) [element, below] {\true};
